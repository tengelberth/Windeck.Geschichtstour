@*
    Eigenes Layout für den Admin-Bereich mit einer fixen Sidebar links.
    Alle Admin-Seiten können dieses Layout verwenden, indem sie
    oben im Razor-File "Layout = \"_AdminLayout\";" setzen.
*@
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - Adminbereich Geschichtstour Windeck</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Windeck.Geschichtstour.Backend.styles.css" asp-append-version="true" />

    <!-- Bootstrap Icons (CDN) -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

    <!-- Favicon -->
    <link rel="icon"
          type="image/png"
          href="~/images/windeck-wappen.png"
          asp-append-version="true" />

    <style>
        /* Einfaches Admin-Layout mit Sidebar links und Content rechts */
        body {
            margin: 0;
        }

        .admin-layout {
            display: flex;
            min-height: 100vh;
        }

        .admin-sidebar {
            width: 220px;
            background-color: #343a40;
            color: #fff;
            padding: 1rem;
        }

            .admin-sidebar h2 {
                font-size: 1.3rem;
                margin-bottom: 1rem;
            }

            .admin-sidebar a {
                color: #ffffff;
                text-decoration: none;
            }

                .admin-sidebar a:hover {
                    text-decoration: underline;
                }

            .admin-sidebar .nav-link {
                padding-left: 0;
            }

        .admin-content {
            flex: 1;
            padding: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="admin-layout">
        <nav class="admin-sidebar">
            <div class="mb-3 text-center">
                <img src="~/images/tourismus-windeck-logo.png"
                     alt="Geschichtstour Windeck"
                     class="img-fluid mb-2"
                     style="max-height: 80px;" />
            </div>

            <div class="row">
                <h2 class="col-auto">Admin</h2>

                <form method="post" asp-page="/Account/Logout" class="col-auto d-flex align-items-center ml-auto">
                    <button type="submit"
                            class="btn btn-sm btn-outline-light mb-3"
                            title="Abmelden">
                        <i class="bi bi-box-arrow-right me-1"></i>
                        Abmelden
                    </button>
                </form>
            
            </div>

            <ul class="nav flex-column">
                <li class="nav-item mb-1">
                    <a class="nav-link" asp-page="/Admin/Index">
                        <i class="bi bi-speedometer2 me-2"></i>
                        Übersicht
                    </a>
                </li>
                <li class="nav-item mb-1">
                    <a class="nav-link" asp-page="/Admin/Stations/Index">
                        <i class="bi bi-geo-alt me-2"></i>
                        Stationen
                    </a>
                </li>
                <li class="nav-item mb-1">
                    <a class="nav-link" asp-page="/Admin/Categories/Index">
                        <i class="bi bi-tags me-2"></i>
                        Kategorien
                    </a>
                </li>
                <li class="nav-item mb-1">
                    <a class="nav-link" asp-page="/Admin/Tours/Index">
                        <i class="bi bi-map me-2"></i>
                        Touren
                    </a>
                </li>

                <li class="nav-item mt-3">
                    <a class="nav-link" href="~/swagger" target="_blank">
                        <i class="bi bi-braces-asterisk me-2"></i>
                        API-Dokumentation
                    </a>
                </li>
            </ul>

        </nav>



        <main class="admin-content">
            @if (TempData["SuccessMessage"] is string success)
            {
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    @success
                    <button type="button"
                            class="btn-close"
                            data-bs-dismiss="alert"
                            aria-label="Schließen"></button>
                </div>
            }
            @if (TempData["ErrorMessage"] is string error)
            {
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    @error
                    <button type="button"
                            class="btn-close"
                            data-bs-dismiss="alert"
                            aria-label="Schließen"></button>
                </div>
            }


            @RenderBody()
        </main>

    </div>

    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>

